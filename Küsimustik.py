# –ü–µ—Ä–µ–∫–ª–∞–¥ –Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É –º–æ–≤—É
# ‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è: –ê–Ω–∫–µ—Ç–∞ –¥–ª—è —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤ + –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—é –ø–æ—à—Ç–æ—é
# üéØ –ú–µ—Ç–∞
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É, —è–∫–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –∞–Ω–∫–µ—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ –æ–±—Ä–∞–Ω—É —Ç–µ–º—É, –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –∑–±–µ—Ä—ñ–≥–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —è–∫ —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç–∞–º, —Ç–∞–∫ —ñ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä—É –∞–Ω–∫–µ—Ç–∏.
# üü¶ 1. –ü–∏—Ç–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
#     –ü–∏—Ç–∞–Ω–Ω—è —Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑—á–∏—Ç—É—é—Ç—å—Å—è –∑ —Ñ–∞–π–ª—É kusimused_vastused.txt.
#     –ö–æ–∂–µ–Ω —Ä—è–¥–æ–∫ –º—ñ—Å—Ç–∏—Ç—å –æ–¥–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å —É —Ñ–æ—Ä–º–∞—Ç—ñ:
#     text
# –©–æ —Ç–∞–∫–µ Python?:–ø—Ä–æ–≥—Ä–∞–º–Ω–∞ –º–æ–≤–∞  
# –Ø–∫–æ–≥–æ –∫–æ–ª—å–æ—Ä—É —Å–Ω—ñ–≥?:–±—ñ–ª–∏–π  
# –ü–∏—Ç–∞–Ω–Ω—è –∑—á–∏—Ç—É—é—Ç—å—Å—è –≤ —Å–ª–æ–≤–Ω–∏–∫ —É —Ñ–æ—Ä–º–∞—Ç—ñ:
# python
#     kus_vas = {"–ø–∏—Ç–∞–Ω–Ω—è1": "–≤—ñ–¥–ø–æ–≤—ñ–¥—å1", ...}
# üü© 2. –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—è –∞–Ω–∫–µ—Ç–∏
#     –£ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞–ø–∏—Ç—É—é—Ç—å —ñ–º‚Äô—è.
#     –ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ N –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –ø–∏—Ç–∞–Ω—å (N –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –≤ –ø—Ä–æ–≥—Ä–∞–º—ñ, —É —Ñ–∞–π–ª—ñ –º–∞—î –±—É—Ç–∏ –±—ñ–ª—å—à–µ –ø–∏—Ç–∞–Ω—å).
#     –ü–æ—Ä—è–¥–æ–∫ –ø–∏—Ç–∞–Ω—å –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç–∞ —Ä—ñ–∑–Ω–∏–π.
#     –ü—ñ–¥ —á–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞ —ñ–º‚Äô—è–º.
#     –Ø–∫—â–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –ø–µ—Ä–µ–≤–∏—â—É—î –ø–æ–ª–æ–≤–∏–Ω—É, —Ç–µ—Å—Ç –≤–≤–∞–∂–∞—î—Ç—å—Å—è —É—Å–ø—ñ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω–∏–º.
# üü® 3. –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤
#     –ü—Ä–æ–≥—Ä–∞–º–∞ –æ–ø–∏—Ç—É—î M –ª—é–¥–µ–π (M –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –≤ –ø—Ä–æ–≥—Ä–∞–º—ñ).
#     –Ø–∫—â–æ –ª—é–¥–∏–Ω–∞ –≤–∂–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∞ —Ç–µ—Å—Ç, —ó—ó –Ω–µ –æ–ø–∏—Ç—É—é—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ.
# üìÅ 4. –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É —Ñ–∞–π–ª–∏
# ‚úÖ oiged.txt
#     –†–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç–∏, —è–∫—ñ —É—Å–ø—ñ—à–Ω–æ –ø—Ä–æ–π—à–ª–∏ —Ç–µ—Å—Ç.
#     –§–æ—Ä–º–∞—Ç: –Ü–º‚Äô—è ‚Äì X –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.
#     –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é –±–∞–ª—ñ–≤ —É –ø–æ—Ä—è–¥–∫—É —Å–ø–∞–¥–∞–Ω–Ω—è.
# ‚ùå valed.txt
#     –†–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç–∏, —è–∫—ñ –≤—ñ–¥–ø–æ–≤—ñ–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º–µ–Ω—à –Ω—ñ–∂ –Ω–∞ –ø–æ–ª–æ–≤–∏–Ω—É –ø–∏—Ç–∞–Ω—å.
#     –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∞–ª—Ñ–∞–≤—ñ—Ç–æ–º.
# üìã koik.txt
#     –£—Å—ñ —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç–∏: —ñ–º‚Äô—è, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π, –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞.
#     –ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞ —ñ–º‚Äô—è–º —É —Ñ–æ—Ä–º–∞—Ç—ñ: —ñ–º‚Äô—è.–ø—Ä—ñ–∑–≤–∏—â–µ@example.com.
# ‚úâÔ∏è 5. –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏—Ö –ª–∏—Å—Ç—ñ–≤
# üì§ –†–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—É:
# –ü—ñ—Å–ª—è –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –∞–Ω–∫–µ—Ç–∏ —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—É –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –ª–∏—Å—Ç —ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏:
# ‚úÖ –£—Å–ø—ñ—à–Ω–∏–π —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç:
# text
# –í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ: mari.tamm@example.com  
# –®–∞–Ω–æ–≤–Ω–∞ –ú–∞—Ä—ñ –¢–∞–º–º!  
# –í–∞—à–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π: 4.  
# –í–∏ —É—Å–ø—ñ—à–Ω–æ –ø—Ä–æ–π—à–ª–∏ —Ç–µ—Å—Ç.
# ‚ùå –ù–µ–≤–¥–∞–ª–∏–π —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç:
# text
# –í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ: juri.saar@example.com  
# –®–∞–Ω–æ–≤–Ω–∏–π –Æ—Ä—ñ –°–∞–∞—Ä!  
# –í–∞—à–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π: 2.  
# –ù–∞ –∂–∞–ª—å, —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ.
# üßæ –û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä—É:
# –ù–∞–ø—Ä–∏–∫—ñ–Ω—Ü—ñ —Å–µ—Å—ñ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä—É (–Ω–∞ –∞–¥—Ä–µ—Å—É tootaja@firma.ee) –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –∑–≤—ñ—Ç:
# text
# –í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ: tootaja@firma.ee  
# –®–∞–Ω–æ–≤–Ω–∏–π(–∞)!  
# –°—å–æ–≥–æ–¥–Ω—ñ—à–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∞–Ω–∫–µ—Ç–∏:  
# 1. –ú–∞—Ä—ñ –¢–∞–º–º ‚Äì 4 –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö ‚Äì mari.tamm@example.com ‚Äì –ü–Ü–î–•–û–î–ò–¢–¨  
# 2. –Æ—Ä—ñ –°–∞–∞—Ä ‚Äì 2 –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö ‚Äì juri.saar@example.com ‚Äì –ù–ï –ü–Ü–î–•–û–î–ò–¢–¨  
# 3. –ö–∞—Ç—ñ –ö–∞—Å–∫ ‚Äì 5 –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö ‚Äì kati.kask@example.com ‚Äì –ü–Ü–î–•–û–î–ò–¢–¨  
# –ù–∞–π–∫—Ä–∞—â–∏–π —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç: –ö–∞—Ç—ñ –ö–∞—Å–∫ (5 –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö)  
# –ó –ø–æ–≤–∞–≥–æ—é,  
# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –∞–Ω–∫–µ—Ç—É–≤–∞–Ω–Ω—è
# üõ† 6. –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –ø—Ä–æ–≥—Ä–∞–º—É
#     –ü—Ä–æ–≥—Ä–∞–º–∞ –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –º–µ–Ω—é –∑ –æ–ø—Ü—ñ—è–º–∏:
#         –†–æ–∑–ø–æ—á–∞—Ç–∏ –∞–Ω–∫–µ—Ç—É
#         –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è
#         –í–∏–π—Ç–∏
#     –Ø–∫—â–æ –æ–±—Ä–∞–Ω–æ ¬´–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è¬ª:
#         –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å:
#             –ù–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è
#             –ü—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
#         –î–∞–Ω—ñ –¥–æ–¥–∞—é—Ç—å—Å—è –¥–æ —Ñ–∞–π–ª—É kusimused_vastused.txt —É —Ñ–æ—Ä–º–∞—Ç—ñ:
#         text
#         –Ω–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è:–≤—ñ–¥–ø–æ–≤—ñ–¥—å
# üñ• 7. –í–∏–≤–µ–¥–µ–Ω–Ω—è –Ω–∞ –µ–∫—Ä–∞–Ω –Ω–∞–ø—Ä–∏–∫—ñ–Ω—Ü—ñ —Ä–æ–±–æ—Ç–∏
#     –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —Å–ø–∏—Å–æ–∫ —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤, —è–∫—ñ —É—Å–ø—ñ—à–Ω–æ –ø—Ä–æ–π—à–ª–∏ —Ç–µ—Å—Ç, —Ç–∞ —ó—Ö–Ω—ñ –±–∞–ª–∏.
#     –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: ¬´–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ –Ω–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ñ –∞–¥—Ä–µ—Å–∏.¬ª
# üìã 8. –ü—ñ–¥—Å—É–º–æ–∫ —Ñ—É–Ω–∫—Ü—ñ–π –ø—Ä–æ–≥—Ä–∞–º–∏
# –§—É–Ω–∫—Ü—ñ—è	–û–ø–∏—Å
# –í–∏–ø–∞–¥–∫–æ–≤–∏–π –≤–∏–±—ñ—Ä –ø–∏—Ç–∞–Ω—å	–ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î —Ä—ñ–∑–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è –∑ —Ñ–∞–π–ª—É
# –û–∫—Ä–µ–º—ñ —Ñ–∞–π–ª–∏ –¥–ª—è —É—Å–ø—ñ—à–Ω–∏—Ö/–Ω–µ–≤–¥–∞–ª–∏—Ö	oiged.txt —Ç–∞ valed.txt
# –ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞ —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤	–ì–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ–º–µ–Ω—ñ
# –õ–∏—Å—Ç —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—É	–†–µ–∑—É–ª—å—Ç–∞—Ç —ñ–∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º –ø—Ä–æ —É—Å–ø—ñ—Ö/–Ω–µ–≤–¥–∞—á—É
# –ó–≤—ñ—Ç –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä—É	–ó–∞–≥–∞–ª—å–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–∞ –Ω–∞–π–∫—Ä–∞—â–∏–π —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç
# –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–∏—Ç–∞–Ω—å —á–µ—Ä–µ–∑ –ø—Ä–æ–≥—Ä–∞–º—É	–û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—É kusimused_vastused.txt —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
# –í–∏–≤–µ–¥–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –Ω–∞ –µ–∫—Ä–∞–Ω	–°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∏—Ö —Ç–∞ —É—Å–ø—ñ—à–Ω–∏—Ö —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤ –Ω–∞–ø—Ä–∏–∫—ñ–Ω—Ü—ñ
# –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–µ –¥–æ–¥–∞—Ç–∫–æ–≤–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è —á–∏ –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, –¥–∞–π—Ç–µ –∑–Ω–∞—Ç–∏!


import json
import random
import smtplib
import requests
from funktsioonid import *

# kus_vas = laadimine_failist('kusimused_vastused.txt')


while True:
    print("----------Menuu----------\n"
      "1. - Alusta k√ºsimustikku\n"
    "2. - Lisa uus k√ºsimus\n"
    "3. - V√§lju")
    v = input("Valige valik (1-3): ")

    if v == "1":
        questions = read_questions()
        if len(questions) < N:
            print(f"–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø–∏—Ç–∞–Ω—å —É —Ñ–∞–π–ª—ñ! –ü–æ—Ç—Ä—ñ–±–Ω–æ —â–æ–Ω–∞–π–º–µ–Ω—à–µ {N}.")
            continue

        for _ in range(M):
            name = input("–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ —ñ–º‚Äô—è: ").strip()
            if name in completed_surveys:
                print(f"{name}, –≤–∏ –≤–∂–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ –∞–Ω–∫–µ—Ç—É!")
                continue
            score = conduct_survey(name, questions, N)
            if score is not None:
                email = generate_email(name)
                results[name] = (score, email)

        save_results(results)
        send_emails(results)
        display_results(results) 

    elif v == "2":
        lisa_kus()
    elif v == "3":
        break
    else:
        print("–ù–µ–≤—ñ—Ä–Ω–∏–π –≤–∏–±—ñ—Ä, —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.")
